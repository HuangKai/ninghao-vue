<template>
    <h3>{{ name }}</h3>
    {{ processStatus }}
    <button v-on:click="resetName">é‡ç½®</button>
    <button @click="setName">è®¾ç½®</button>
    <div v-for="(post, index) in postList" :key="post.id">
        {{ index + 1 }} {{ post.content }} - <small>{{ post.author }}</small>
    </div>
    <hr>
    <div v-if="visible">éšè—çš„å†…å®¹ï¼</div>
    <button @click="visible = !visible">{{ visible ? 'éšè—' : 'æ˜¾ç¤º' }}</button>
</template>

<script>
export default {
    data() {
        return {
            name: 'NINGHAO',
            postList: [
                {
                    id: 1,
                    content: 'æ•…äººè¥¿è¾é»„é¹¤æ¥¼ï¼ŒçƒŸèŠ±ä¸‰æœˆä¸‹æ‰¬å·',
                    author: 'æç™½'
                }, {
                    id: 2,
                    content: 'å¥½é›¨çŸ¥æ—¶èŠ‚ï¼Œå½“æ˜¥ä¹ƒå‘ç”Ÿ',
                    author: 'æœç”«'
                }, {
                    id: 3,
                    content: 'æµ”é˜³æ±Ÿå¤´å¤œé€å®¢ï¼Œæ«å¶è»èŠ±ç§‹ç‘Ÿç‘Ÿ',
                    author: 'ç™½å±…æ˜“'
                },
            ],
            visible: true,
        };
    },
    created() {
        console.log('App ç»„ä»¶å·²åˆ›å»ºï¼');

        this.setName();

    },
    methods: {
        setName() {
            setTimeout(() => {
                this.name = 'å®çš“ç½‘ ğŸš€';
            }, 3000);
        },
        resetName() {
            this.name = 'NINGHAO';
        },
    },
    computed: {
        processStatus() {
            return this.name === 'NINGHAO' ? "åˆå§‹åŒ–..." : "æˆåŠŸè®¾ç½®äº†æ•°æ®ï¼";
        }
    },
    watch: {
        name(newName, oldName) {
            console.log(`name å‘ç”Ÿäº†å˜åŒ–: ${oldName} -> ${newName}`);
        }
    },
};
</script>

<style>
button {
    margin: 4px;
}
</style>